#!/bin/bash
PATH=$1
# script for download type material genomes
# it creates a .zip file
datasets download genome accession GCA_000163455.1 GCA_000215745.1 GCA_000281755.1 GCA_000613225.1 GCA_000614665.1 GCA_000742135.1 GCA_000751755.1 GCA_000788015.1 GCA_000826585.2 GCA_000828055.2 GCF_001590945.1 GCF_001598695.1 GCF_001598715.1 GCA_002269255.1 GCA_002925905.1 GCA_003261575.2 GCA_003417445.1 GCA_005860775.1 GCA_006364295.1 GCA_006711645.1 GCA_009173485.1 GCA_017638945.1 GCA_019048125.1 GCA_020099175.1 GCA_020115495.1 GCA_020115515.1 GCA_020115535.1 GCA_020115545.1 GCA_020525545.1 GCA_020525685.1 GCA_020525925.1 GCA_020526085.1 GCA_022869665.1 GCA_900200035.1 GCA_900452045.1 GCA_900452125.1 GCA_900461485.1 GCA_900635435.1 GCA_900636985.1 GCA_900978195.1 GCA_900978845.1 GCA_902158555.1 GCA_902158725.1 GCA_003444755.1

#unzip the file
unzip ncbi_dataset.zip

# copy genome files to current working folder 
find . -name *.fna -exec cp {} "$PATH" \;

# Annotated genomes 
for file in *.fna; do
    base_name=$(echo "$file" | cut -c 1-15)
    prokka --cpus 15 --outdir "$base_name" --addgenes --prefix $base_name $file
done 
